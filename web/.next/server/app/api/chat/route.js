"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_canakin_youtube_mcp_server_web_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/Users/canakin/youtube-mcp-server/web/src/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_canakin_youtube_mcp_server_web_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNhbmFraW4lMkZ5b3V0dWJlLW1jcC1zZXJ2ZXIlMkZ3ZWIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY2FuYWtpbiUyRnlvdXR1YmUtbWNwLXNlcnZlciUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3lvdXR1YmUtbWNwLXdlYi8/NTY1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvY2FuYWtpbi95b3V0dWJlLW1jcC1zZXJ2ZXIvd2ViL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2NhbmFraW4veW91dHViZS1tY3Atc2VydmVyL3dlYi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGF0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/index.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_streamableHttp_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/streamableHttp.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/streamableHttp.js\");\n\n\n\n\n\nconst SYSTEM_PROMPT = `You are YouTube AI Agent, a helpful assistant that manages playlists using MCP tools.\n- Prefer real actions via the provided tools when the user needs data or playlist changes.\n- When adding several videos, use the bulk add tool to avoid repeated errors.\n- When a tool returns data, summarize it clearly with bullet points or short paragraphs.\n- If a tool reports no results, explain that calmly and suggest a next step.\n- Only invent information if you clearly label it as a suggestion.`;\nconst openai = (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__.createOpenAI)({\n    apiKey: process.env.OPENAI_API_KEY\n});\nconst DEFAULT_MODEL = process.env.OPENAI_MODEL ?? \"gpt-4.1-mini\";\nconst ensureEnv = ()=>{\n    if (!process.env.MCP_SERVER_URL) {\n        throw new Error(\"MCP_SERVER_URL is not configured.\");\n    }\n    if (!process.env.OPENAI_API_KEY) {\n        throw new Error(\"OPENAI_API_KEY is not configured.\");\n    }\n};\nconst formatCallToolResult = (name, result)=>{\n    if (result.isError) {\n        const content = result.content;\n        const message = content?.map((entry)=>entry.type === \"text\" ? entry.text : JSON.stringify(entry)).join(\"\\n\") ?? \"Unknown error\";\n        return `Tool ${name} returned an error: ${message}`;\n    }\n    if (result.structuredContent) {\n        return typeof result.structuredContent === \"string\" ? result.structuredContent : JSON.stringify(result.structuredContent, null, 2);\n    }\n    const content = result.content?.map((entry)=>{\n        if (entry.type === \"text\") {\n            return entry.text;\n        }\n        if (entry.type === \"resource\") {\n            return `${entry.mimeType ?? \"resource\"}: ${entry.uri}`;\n        }\n        return JSON.stringify(entry);\n    }).join(\"\\n\");\n    return content ?? `Tool ${name} executed with no textual response.`;\n};\nconst formatPromptResult = (name, result)=>{\n    const lines = result.messages.map((message)=>{\n        if (message.content.type === \"text\") {\n            return `${message.role.toUpperCase()}: ${message.content.text}`;\n        }\n        return `${message.role.toUpperCase()}: ${JSON.stringify(message.content)}`;\n    });\n    return `Prompt ${name} returned the following guidance:\\n${lines.join(\"\\n\")}`;\n};\nasync function POST(req) {\n    ensureEnv();\n    const { messages } = await req.json();\n    const client = new _modelcontextprotocol_sdk_client_index_js__WEBPACK_IMPORTED_MODULE_0__.Client({\n        name: \"youtube-mcp-web\",\n        version: \"0.1.0\"\n    }, {\n        capabilities: {\n            tools: {},\n            prompts: {}\n        }\n    });\n    const transport = new _modelcontextprotocol_sdk_client_streamableHttp_js__WEBPACK_IMPORTED_MODULE_1__.StreamableHTTPClientTransport(new URL(process.env.MCP_SERVER_URL));\n    try {\n        await client.connect(transport);\n        const callTool = async (name, args)=>{\n            try {\n                const cleanArgs = Object.fromEntries(Object.entries(args).filter(([, value])=>value !== undefined && value !== \"\"));\n                const result = await client.callTool({\n                    name,\n                    arguments: cleanArgs\n                });\n                return formatCallToolResult(name, result);\n            } catch (error) {\n                const message = error instanceof Error ? error.message : String(error);\n                return `Failed to execute tool ${name}: ${message}`;\n            }\n        };\n        const callPrompt = async (name, args)=>{\n            try {\n                const cleanArgs = Object.fromEntries(Object.entries(args).filter(([, value])=>value !== undefined && value !== \"\"));\n                const result = await client.getPrompt({\n                    name,\n                    arguments: cleanArgs\n                });\n                return formatPromptResult(name, result);\n            } catch (error) {\n                const message = error instanceof Error ? error.message : String(error);\n                return `Failed to fetch prompt ${name}: ${message}`;\n            }\n        };\n        const tools = {\n            searchVideos: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Search YouTube for videos matching a user query.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    query: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    maxResults: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(1).max(50).optional()\n                }),\n                execute: async ({ query, maxResults })=>callTool(\"searchVideos\", {\n                        query,\n                        maxResults\n                    })\n            }),\n            createPlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Create a new playlist in the authenticated YouTube account.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    title: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    description: zod__WEBPACK_IMPORTED_MODULE_4__.string().optional(),\n                    privacyStatus: zod__WEBPACK_IMPORTED_MODULE_4__[\"enum\"]([\n                        \"private\",\n                        \"public\",\n                        \"unlisted\"\n                    ]).optional()\n                }),\n                execute: async ({ title, description, privacyStatus })=>callTool(\"createPlaylist\", {\n                        title,\n                        description,\n                        privacyStatus\n                    })\n            }),\n            deletePlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Delete a playlist by its ID.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1)\n                }),\n                execute: async ({ playlistId })=>callTool(\"deletePlaylist\", {\n                        playlistId\n                    })\n            }),\n            addVideoToPlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Add a video to a specific playlist.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    videoId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    position: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(0).optional()\n                }),\n                execute: async ({ playlistId, videoId, position })=>callTool(\"addVideoToPlaylist\", {\n                        playlistId,\n                        videoId,\n                        position\n                    })\n            }),\n            addVideosToPlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Add multiple videos to a playlist in order.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    videoIds: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1)).min(1),\n                    startPosition: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(0).optional()\n                }),\n                execute: async ({ playlistId, videoIds, startPosition })=>callTool(\"addVideosToPlaylist\", {\n                        playlistId,\n                        videoIds,\n                        startPosition\n                    })\n            }),\n            removeVideoFromPlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Remove a video from a playlist by video ID.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    videoId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1)\n                }),\n                execute: async ({ playlistId, videoId })=>callTool(\"removeVideoFromPlaylist\", {\n                        playlistId,\n                        videoId\n                    })\n            }),\n            getMyPlaylists: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"List playlists owned by the authenticated user.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    maxResults: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(1).max(50).optional()\n                }),\n                execute: async ({ maxResults })=>callTool(\"getMyPlaylists\", {\n                        maxResults\n                    })\n            }),\n            getPlaylistItems: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"List videos inside a playlist.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    maxResults: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(1).max(50).optional()\n                }),\n                execute: async ({ playlistId, maxResults })=>callTool(\"getPlaylistItems\", {\n                        playlistId,\n                        maxResults\n                    })\n            }),\n            curatePlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Fetch recommended guidance for building a themed playlist.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    theme: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n                    count: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().min(1).max(25).optional()\n                }),\n                execute: async ({ theme, count })=>callPrompt(\"curatePlaylist\", {\n                        theme,\n                        count: count !== undefined ? count.toString() : undefined\n                    })\n            }),\n            summarizePlaylist: (0,ai__WEBPACK_IMPORTED_MODULE_3__.tool)({\n                description: \"Summarize the contents of a playlist in natural language.\",\n                parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n                    playlistId: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1)\n                }),\n                execute: async ({ playlistId })=>callPrompt(\"summarizePlaylist\", {\n                        playlistId\n                    })\n            })\n        };\n        const response = await (0,ai__WEBPACK_IMPORTED_MODULE_3__.streamText)({\n            model: openai(DEFAULT_MODEL),\n            messages,\n            system: SYSTEM_PROMPT,\n            temperature: 0.4,\n            tools,\n            toolChoice: \"auto\",\n            maxSteps: 4\n        });\n        return response.toDataStreamResponse();\n    } catch (error) {\n        console.error(\"/api/chat error\", error);\n        const message = error instanceof Error ? error.message : String(error);\n        return new Response(JSON.stringify({\n            error: message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNakcsOENBQVVBLENBQUM7WUFDaENrRyxPQUFPM0YsT0FBT0s7WUFDZHVCO1lBQ0FnRSxRQUFRN0Y7WUFDUjhGLGFBQWE7WUFDYnhEO1lBQ0F5RCxZQUFZO1lBQ1pDLFVBQVU7UUFDWjtRQUVBLE9BQU9MLFNBQVNNLG9CQUFvQjtJQUN0QyxFQUFFLE9BQU81QyxPQUFPO1FBQ2Q2QyxRQUFRN0MsS0FBSyxDQUFDLG1CQUFtQkE7UUFDakMsTUFBTXJDLFVBQVVxQyxpQkFBaUIzQyxRQUFRMkMsTUFBTXJDLE9BQU8sR0FBR3NDLE9BQU9EO1FBQ2hFLE9BQU8sSUFBSThDLFNBQ1Q5RSxLQUFLQyxTQUFTLENBQUM7WUFBRStCLE9BQU9yQztRQUFRLElBQ2hDO1lBQ0VvRixRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQ2hEO0lBRUo7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3lvdXR1YmUtbWNwLXdlYi8uL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHM/NDZiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgc3RyZWFtVGV4dCwgdG9vbCB9IGZyb20gXCJhaVwiO1xuaW1wb3J0IHsgY3JlYXRlT3BlbkFJIH0gZnJvbSBcIkBhaS1zZGsvb3BlbmFpXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdHJlYW1hYmxlSFRUUENsaWVudFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2NsaWVudC9zdHJlYW1hYmxlSHR0cC5qc1wiO1xuXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgWW91VHViZSBBSSBBZ2VudCwgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IG1hbmFnZXMgcGxheWxpc3RzIHVzaW5nIE1DUCB0b29scy5cbi0gUHJlZmVyIHJlYWwgYWN0aW9ucyB2aWEgdGhlIHByb3ZpZGVkIHRvb2xzIHdoZW4gdGhlIHVzZXIgbmVlZHMgZGF0YSBvciBwbGF5bGlzdCBjaGFuZ2VzLlxuLSBXaGVuIGFkZGluZyBzZXZlcmFsIHZpZGVvcywgdXNlIHRoZSBidWxrIGFkZCB0b29sIHRvIGF2b2lkIHJlcGVhdGVkIGVycm9ycy5cbi0gV2hlbiBhIHRvb2wgcmV0dXJucyBkYXRhLCBzdW1tYXJpemUgaXQgY2xlYXJseSB3aXRoIGJ1bGxldCBwb2ludHMgb3Igc2hvcnQgcGFyYWdyYXBocy5cbi0gSWYgYSB0b29sIHJlcG9ydHMgbm8gcmVzdWx0cywgZXhwbGFpbiB0aGF0IGNhbG1seSBhbmQgc3VnZ2VzdCBhIG5leHQgc3RlcC5cbi0gT25seSBpbnZlbnQgaW5mb3JtYXRpb24gaWYgeW91IGNsZWFybHkgbGFiZWwgaXQgYXMgYSBzdWdnZXN0aW9uLmA7XG5cbmNvbnN0IG9wZW5haSA9IGNyZWF0ZU9wZW5BSSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgfSk7XG5jb25zdCBERUZBVUxUX01PREVMID0gcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMID8/IFwiZ3B0LTQuMS1taW5pXCI7XG5cbmNvbnN0IGVuc3VyZUVudiA9ICgpID0+IHtcbiAgaWYgKCFwcm9jZXNzLmVudi5NQ1BfU0VSVkVSX1VSTCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1DUF9TRVJWRVJfVVJMIGlzIG5vdCBjb25maWd1cmVkLlwiKTtcbiAgfVxuICBpZiAoIXByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT1BFTkFJX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICB9XG59O1xuXG5jb25zdCBmb3JtYXRDYWxsVG9vbFJlc3VsdCA9IChuYW1lOiBzdHJpbmcsIHJlc3VsdDogQXdhaXRlZDxSZXR1cm5UeXBlPENsaWVudFtcImNhbGxUb29sXCJdPj4pOiBzdHJpbmcgPT4ge1xuICBpZiAocmVzdWx0LmlzRXJyb3IpIHtcbiAgICBjb25zdCBjb250ZW50ID0gcmVzdWx0LmNvbnRlbnQgYXMgYW55W107XG4gICAgY29uc3QgbWVzc2FnZSA9IGNvbnRlbnQ/Lm1hcCgoZW50cnk6IGFueSkgPT4gKGVudHJ5LnR5cGUgPT09IFwidGV4dFwiID8gZW50cnkudGV4dCA6IEpTT04uc3RyaW5naWZ5KGVudHJ5KSkpLmpvaW4oXCJcXG5cIikgPz8gXCJVbmtub3duIGVycm9yXCI7XG4gICAgcmV0dXJuIGBUb29sICR7bmFtZX0gcmV0dXJuZWQgYW4gZXJyb3I6ICR7bWVzc2FnZX1gO1xuICB9XG5cbiAgaWYgKHJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudCkge1xuICAgIHJldHVybiB0eXBlb2YgcmVzdWx0LnN0cnVjdHVyZWRDb250ZW50ID09PSBcInN0cmluZ1wiXG4gICAgICA/IHJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudFxuICAgICAgOiBKU09OLnN0cmluZ2lmeShyZXN1bHQuc3RydWN0dXJlZENvbnRlbnQsIG51bGwsIDIpO1xuICB9XG5cbiAgY29uc3QgY29udGVudCA9IChyZXN1bHQuY29udGVudCBhcyBhbnlbXSlcbiAgICA/Lm1hcCgoZW50cnk6IGFueSkgPT4ge1xuICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIHJldHVybiBlbnRyeS50ZXh0O1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IFwicmVzb3VyY2VcIikge1xuICAgICAgICByZXR1cm4gYCR7ZW50cnkubWltZVR5cGUgPz8gXCJyZXNvdXJjZVwifTogJHtlbnRyeS51cml9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlbnRyeSk7XG4gICAgfSlcbiAgICAuam9pbihcIlxcblwiKTtcblxuICByZXR1cm4gY29udGVudCA/PyBgVG9vbCAke25hbWV9IGV4ZWN1dGVkIHdpdGggbm8gdGV4dHVhbCByZXNwb25zZS5gO1xufTtcblxuY29uc3QgZm9ybWF0UHJvbXB0UmVzdWx0ID0gKG5hbWU6IHN0cmluZywgcmVzdWx0OiBBd2FpdGVkPFJldHVyblR5cGU8Q2xpZW50W1wiZ2V0UHJvbXB0XCJdPj4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBsaW5lcyA9IHJlc3VsdC5tZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS5jb250ZW50LnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICByZXR1cm4gYCR7bWVzc2FnZS5yb2xlLnRvVXBwZXJDYXNlKCl9OiAke21lc3NhZ2UuY29udGVudC50ZXh0fWA7XG4gICAgfVxuICAgIHJldHVybiBgJHttZXNzYWdlLnJvbGUudG9VcHBlckNhc2UoKX06ICR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZS5jb250ZW50KX1gO1xuICB9KTtcblxuICByZXR1cm4gYFByb21wdCAke25hbWV9IHJldHVybmVkIHRoZSBmb2xsb3dpbmcgZ3VpZGFuY2U6XFxuJHtsaW5lcy5qb2luKFwiXFxuXCIpfWA7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIGVuc3VyZUVudigpO1xuXG4gIGNvbnN0IHsgbWVzc2FnZXMgfSA9IChhd2FpdCByZXEuanNvbigpKSBhcyB7XG4gICAgbWVzc2FnZXM6IEFycmF5PHsgaWQ6IHN0cmluZzsgcm9sZTogXCJ1c2VyXCIgfCBcImFzc2lzdGFudFwiIHwgXCJzeXN0ZW1cIjsgY29udGVudDogc3RyaW5nIH0+O1xuICB9O1xuXG4gIGNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoXG4gICAge1xuICAgICAgbmFtZTogXCJ5b3V0dWJlLW1jcC13ZWJcIixcbiAgICAgIHZlcnNpb246IFwiMC4xLjBcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhcGFiaWxpdGllczoge1xuICAgICAgICB0b29sczoge30sXG4gICAgICAgIHByb21wdHM6IHt9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBTdHJlYW1hYmxlSFRUUENsaWVudFRyYW5zcG9ydChuZXcgVVJMKHByb2Nlc3MuZW52Lk1DUF9TRVJWRVJfVVJMISkpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QodHJhbnNwb3J0KTtcblxuICBjb25zdCBjYWxsVG9vbCA9IGFzeW5jIDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KG5hbWU6IHN0cmluZywgYXJnczogVCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbGVhbkFyZ3MgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGFyZ3MpLmZpbHRlcigoWywgdmFsdWVdKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBcIlwiKSxcbiAgICAgICk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuY2FsbFRvb2woeyBuYW1lLCBhcmd1bWVudHM6IGNsZWFuQXJncyB9KTtcbiAgICAgIHJldHVybiBmb3JtYXRDYWxsVG9vbFJlc3VsdChuYW1lLCByZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgcmV0dXJuIGBGYWlsZWQgdG8gZXhlY3V0ZSB0b29sICR7bmFtZX06ICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjYWxsUHJvbXB0ID0gYXN5bmMgPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4obmFtZTogc3RyaW5nLCBhcmdzOiBUKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNsZWFuQXJncyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXJncykuZmlsdGVyKChbLCB2YWx1ZV0pID0+IHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IFwiXCIpLFxuICAgICAgKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmdldFByb21wdCh7IG5hbWUsIGFyZ3VtZW50czogY2xlYW5BcmdzIH0pO1xuICAgICAgcmV0dXJuIGZvcm1hdFByb21wdFJlc3VsdChuYW1lLCByZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgcmV0dXJuIGBGYWlsZWQgdG8gZmV0Y2ggcHJvbXB0ICR7bmFtZX06ICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0b29scyA9IHtcbiAgICBzZWFyY2hWaWRlb3M6IHRvb2woe1xuICAgICAgZGVzY3JpcHRpb246IFwiU2VhcmNoIFlvdVR1YmUgZm9yIHZpZGVvcyBtYXRjaGluZyBhIHVzZXIgcXVlcnkuXCIsXG4gICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XG4gICAgICAgIHF1ZXJ5OiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgbWF4UmVzdWx0czogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDUwKS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICBleGVjdXRlOiBhc3luYyAoeyBxdWVyeSwgbWF4UmVzdWx0cyB9KSA9PiBjYWxsVG9vbChcInNlYXJjaFZpZGVvc1wiLCB7IHF1ZXJ5LCBtYXhSZXN1bHRzIH0pLFxuICAgIH0pLFxuICAgIGNyZWF0ZVBsYXlsaXN0OiB0b29sKHtcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSBhIG5ldyBwbGF5bGlzdCBpbiB0aGUgYXV0aGVudGljYXRlZCBZb3VUdWJlIGFjY291bnQuXCIsXG4gICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XG4gICAgICAgIHRpdGxlOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcHJpdmFjeVN0YXR1czogei5lbnVtKFtcInByaXZhdGVcIiwgXCJwdWJsaWNcIiwgXCJ1bmxpc3RlZFwiXSkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBwcml2YWN5U3RhdHVzIH0pID0+XG4gICAgICAgIGNhbGxUb29sKFwiY3JlYXRlUGxheWxpc3RcIiwgeyB0aXRsZSwgZGVzY3JpcHRpb24sIHByaXZhY3lTdGF0dXMgfSksXG4gICAgfSksXG4gICAgZGVsZXRlUGxheWxpc3Q6IHRvb2woe1xuICAgICAgZGVzY3JpcHRpb246IFwiRGVsZXRlIGEgcGxheWxpc3QgYnkgaXRzIElELlwiLFxuICAgICAgcGFyYW1ldGVyczogei5vYmplY3QoeyBwbGF5bGlzdElkOiB6LnN0cmluZygpLm1pbigxKSB9KSxcbiAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IHBsYXlsaXN0SWQgfSkgPT4gY2FsbFRvb2woXCJkZWxldGVQbGF5bGlzdFwiLCB7IHBsYXlsaXN0SWQgfSksXG4gICAgfSksXG4gICAgYWRkVmlkZW9Ub1BsYXlsaXN0OiB0b29sKHtcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkFkZCBhIHZpZGVvIHRvIGEgc3BlY2lmaWMgcGxheWxpc3QuXCIsXG4gICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XG4gICAgICAgIHBsYXlsaXN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICB2aWRlb0lkOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgcG9zaXRpb246IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IHBsYXlsaXN0SWQsIHZpZGVvSWQsIHBvc2l0aW9uIH0pID0+XG4gICAgICAgIGNhbGxUb29sKFwiYWRkVmlkZW9Ub1BsYXlsaXN0XCIsIHsgcGxheWxpc3RJZCwgdmlkZW9JZCwgcG9zaXRpb24gfSksXG4gICAgfSksXG4gICAgYWRkVmlkZW9zVG9QbGF5bGlzdDogdG9vbCh7XG4gICAgICBkZXNjcmlwdGlvbjogXCJBZGQgbXVsdGlwbGUgdmlkZW9zIHRvIGEgcGxheWxpc3QgaW4gb3JkZXIuXCIsXG4gICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XG4gICAgICAgIHBsYXlsaXN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICB2aWRlb0lkczogei5hcnJheSh6LnN0cmluZygpLm1pbigxKSkubWluKDEpLFxuICAgICAgICBzdGFydFBvc2l0aW9uOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICBleGVjdXRlOiBhc3luYyAoeyBwbGF5bGlzdElkLCB2aWRlb0lkcywgc3RhcnRQb3NpdGlvbiB9KSA9PlxuICAgICAgICBjYWxsVG9vbChcImFkZFZpZGVvc1RvUGxheWxpc3RcIiwgeyBwbGF5bGlzdElkLCB2aWRlb0lkcywgc3RhcnRQb3NpdGlvbiB9KSxcbiAgICB9KSxcbiAgICByZW1vdmVWaWRlb0Zyb21QbGF5bGlzdDogdG9vbCh7XG4gICAgICBkZXNjcmlwdGlvbjogXCJSZW1vdmUgYSB2aWRlbyBmcm9tIGEgcGxheWxpc3QgYnkgdmlkZW8gSUQuXCIsXG4gICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XG4gICAgICAgIHBsYXlsaXN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICB2aWRlb0lkOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgIH0pLFxuICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgcGxheWxpc3RJZCwgdmlkZW9JZCB9KSA9PlxuICAgICAgICBjYWxsVG9vbChcInJlbW92ZVZpZGVvRnJvbVBsYXlsaXN0XCIsIHsgcGxheWxpc3RJZCwgdmlkZW9JZCB9KSxcbiAgICB9KSxcbiAgICBnZXRNeVBsYXlsaXN0czogdG9vbCh7XG4gICAgICBkZXNjcmlwdGlvbjogXCJMaXN0IHBsYXlsaXN0cyBvd25lZCBieSB0aGUgYXV0aGVudGljYXRlZCB1c2VyLlwiLFxuICAgICAgcGFyYW1ldGVyczogei5vYmplY3Qoe1xuICAgICAgICBtYXhSZXN1bHRzOiB6Lm51bWJlcigpLmludCgpLm1pbigxKS5tYXgoNTApLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IG1heFJlc3VsdHMgfSkgPT4gY2FsbFRvb2woXCJnZXRNeVBsYXlsaXN0c1wiLCB7IG1heFJlc3VsdHMgfSksXG4gICAgfSksXG4gICAgZ2V0UGxheWxpc3RJdGVtczogdG9vbCh7XG4gICAgICBkZXNjcmlwdGlvbjogXCJMaXN0IHZpZGVvcyBpbnNpZGUgYSBwbGF5bGlzdC5cIixcbiAgICAgIHBhcmFtZXRlcnM6IHoub2JqZWN0KHtcbiAgICAgICAgcGxheWxpc3RJZDogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICAgIG1heFJlc3VsdHM6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCg1MCkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgcGxheWxpc3RJZCwgbWF4UmVzdWx0cyB9KSA9PlxuICAgICAgICBjYWxsVG9vbChcImdldFBsYXlsaXN0SXRlbXNcIiwgeyBwbGF5bGlzdElkLCBtYXhSZXN1bHRzIH0pLFxuICAgIH0pLFxuICAgIGN1cmF0ZVBsYXlsaXN0OiB0b29sKHtcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkZldGNoIHJlY29tbWVuZGVkIGd1aWRhbmNlIGZvciBidWlsZGluZyBhIHRoZW1lZCBwbGF5bGlzdC5cIixcbiAgICAgIHBhcmFtZXRlcnM6IHoub2JqZWN0KHtcbiAgICAgICAgdGhlbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICBjb3VudDogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDI1KS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICBleGVjdXRlOiBhc3luYyAoeyB0aGVtZSwgY291bnQgfSkgPT5cbiAgICAgICAgY2FsbFByb21wdChcImN1cmF0ZVBsYXlsaXN0XCIsIHsgdGhlbWUsIGNvdW50OiBjb3VudCAhPT0gdW5kZWZpbmVkID8gY291bnQudG9TdHJpbmcoKSA6IHVuZGVmaW5lZCB9KSxcbiAgICB9KSxcbiAgICBzdW1tYXJpemVQbGF5bGlzdDogdG9vbCh7XG4gICAgICBkZXNjcmlwdGlvbjogXCJTdW1tYXJpemUgdGhlIGNvbnRlbnRzIG9mIGEgcGxheWxpc3QgaW4gbmF0dXJhbCBsYW5ndWFnZS5cIixcbiAgICAgIHBhcmFtZXRlcnM6IHoub2JqZWN0KHtcbiAgICAgICAgcGxheWxpc3RJZDogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICB9KSxcbiAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IHBsYXlsaXN0SWQgfSkgPT4gY2FsbFByb21wdChcInN1bW1hcml6ZVBsYXlsaXN0XCIsIHsgcGxheWxpc3RJZCB9KSxcbiAgICB9KSxcbiAgfSBhcyBjb25zdDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RyZWFtVGV4dCh7XG4gICAgICBtb2RlbDogb3BlbmFpKERFRkFVTFRfTU9ERUwpIGFzIGFueSxcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgc3lzdGVtOiBTWVNURU1fUFJPTVBULFxuICAgICAgdGVtcGVyYXR1cmU6IDAuNCxcbiAgICAgIHRvb2xzLFxuICAgICAgdG9vbENob2ljZTogXCJhdXRvXCIsXG4gICAgICBtYXhTdGVwczogNCxcbiAgICB9KTtcblxuICAgIHJldHVybiByZXNwb25zZS50b0RhdGFTdHJlYW1SZXNwb25zZSgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCIvYXBpL2NoYXQgZXJyb3JcIiwgZXJyb3IpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IG1lc3NhZ2UgfSksXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICB9LFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdHJlYW1UZXh0IiwidG9vbCIsImNyZWF0ZU9wZW5BSSIsInoiLCJDbGllbnQiLCJTdHJlYW1hYmxlSFRUUENsaWVudFRyYW5zcG9ydCIsIlNZU1RFTV9QUk9NUFQiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJERUZBVUxUX01PREVMIiwiT1BFTkFJX01PREVMIiwiZW5zdXJlRW52IiwiTUNQX1NFUlZFUl9VUkwiLCJFcnJvciIsImZvcm1hdENhbGxUb29sUmVzdWx0IiwibmFtZSIsInJlc3VsdCIsImlzRXJyb3IiLCJjb250ZW50IiwibWVzc2FnZSIsIm1hcCIsImVudHJ5IiwidHlwZSIsInRleHQiLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsInN0cnVjdHVyZWRDb250ZW50IiwibWltZVR5cGUiLCJ1cmkiLCJmb3JtYXRQcm9tcHRSZXN1bHQiLCJsaW5lcyIsIm1lc3NhZ2VzIiwicm9sZSIsInRvVXBwZXJDYXNlIiwiUE9TVCIsInJlcSIsImpzb24iLCJjbGllbnQiLCJ2ZXJzaW9uIiwiY2FwYWJpbGl0aWVzIiwidG9vbHMiLCJwcm9tcHRzIiwidHJhbnNwb3J0IiwiVVJMIiwiY29ubmVjdCIsImNhbGxUb29sIiwiYXJncyIsImNsZWFuQXJncyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImZpbHRlciIsInZhbHVlIiwidW5kZWZpbmVkIiwiYXJndW1lbnRzIiwiZXJyb3IiLCJTdHJpbmciLCJjYWxsUHJvbXB0IiwiZ2V0UHJvbXB0Iiwic2VhcmNoVmlkZW9zIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwib2JqZWN0IiwicXVlcnkiLCJzdHJpbmciLCJtaW4iLCJtYXhSZXN1bHRzIiwibnVtYmVyIiwiaW50IiwibWF4Iiwib3B0aW9uYWwiLCJleGVjdXRlIiwiY3JlYXRlUGxheWxpc3QiLCJ0aXRsZSIsInByaXZhY3lTdGF0dXMiLCJlbnVtIiwiZGVsZXRlUGxheWxpc3QiLCJwbGF5bGlzdElkIiwiYWRkVmlkZW9Ub1BsYXlsaXN0IiwidmlkZW9JZCIsInBvc2l0aW9uIiwiYWRkVmlkZW9zVG9QbGF5bGlzdCIsInZpZGVvSWRzIiwiYXJyYXkiLCJzdGFydFBvc2l0aW9uIiwicmVtb3ZlVmlkZW9Gcm9tUGxheWxpc3QiLCJnZXRNeVBsYXlsaXN0cyIsImdldFBsYXlsaXN0SXRlbXMiLCJjdXJhdGVQbGF5bGlzdCIsInRoZW1lIiwiY291bnQiLCJ0b1N0cmluZyIsInN1bW1hcml6ZVBsYXlsaXN0IiwicmVzcG9uc2UiLCJtb2RlbCIsInN5c3RlbSIsInRlbXBlcmF0dXJlIiwidG9vbENob2ljZSIsIm1heFN0ZXBzIiwidG9EYXRhU3RyZWFtUmVzcG9uc2UiLCJjb25zb2xlIiwiUmVzcG9uc2UiLCJzdGF0dXMiLCJoZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/@ai-sdk","vendor-chunks/ai","vendor-chunks/zod-to-json-schema","vendor-chunks/@opentelemetry","vendor-chunks/eventsource-parser","vendor-chunks/secure-json-parse","vendor-chunks/ajv","vendor-chunks/@modelcontextprotocol","vendor-chunks/pkce-challenge","vendor-chunks/nanoid","vendor-chunks/uri-js","vendor-chunks/json-schema-traverse","vendor-chunks/fast-json-stable-stringify","vendor-chunks/fast-deep-equal"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcanakin%2Fyoutube-mcp-server%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();